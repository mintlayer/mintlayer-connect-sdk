<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mintlayer Wallet Demo</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
      body {
        background: linear-gradient(to bottom right, #f0f9ff, #e0f2fe);
        min-height: 100vh;
      }
    </style>
</head>
<body class="font-sans text-gray-800 antialiased">
<div class="container mx-auto max-w-5xl p-6 flex flex-col lg:flex-row gap-6">
    <!-- Left Column: Actions -->
    <div class="lg:w-1/2 space-y-6">
        <h1 class="text-3xl font-bold text-center text-blue-600 mb-6">Mintlayer Wallet Demo</h1>

        <div class="flex justify-center mb-4">
            <div class="flex items-center space-x-2">
                <label for="network" class="text-sm font-medium text-gray-700">Select Network:</label>
                <select id="network" onchange="changeNetwork()" class="border border-gray-300 rounded-md p-2 bg-white shadow-sm focus:ring-2 focus:ring-blue-500 focus:outline-none">
                    <option value="mainnet">Mainnet</option>
                    <option value="testnet">Testnet</option>
                </select>
            </div>
        </div>

        <div class="grid grid-cols-2 gap-4">
            <button onclick="checkConnection()" class="bg-blue-500 text-white py-2 px-4 rounded-md shadow hover:bg-blue-600 transition">Check Connection</button>
            <button onclick="connectWallet()" class="bg-blue-500 text-white py-2 px-4 rounded-md shadow hover:bg-blue-600 transition">Connect Wallet</button>
            <button onclick="getNewAddress()" class="bg-blue-500 text-white py-2 px-4 rounded-md shadow hover:bg-blue-600 transition">Get New Address</button>
            <button onclick="getVersion()" class="bg-blue-500 text-white py-2 px-4 rounded-md shadow hover:bg-blue-600 transition">Get Version</button>
            <button onclick="createDelegation()" class="bg-blue-500 text-white py-2 px-4 rounded-md shadow hover:bg-blue-600 transition">Create Delegation</button>
            <button onclick="getBalance()" class="bg-blue-500 text-white py-2 px-4 rounded-md shadow hover:bg-blue-600 transition">Get Balance</button>
            <button onclick="getDelegations()" class="bg-blue-500 text-white py-2 px-4 rounded-md shadow hover:bg-blue-600 transition">Get Delegations</button>
            <button onclick="getDelegationsTotal()" class="bg-blue-500 text-white py-2 px-4 rounded-md shadow hover:bg-blue-600 transition">Get Delegations Total</button>
            <button onclick="getAccountOrders()" class="bg-blue-500 text-white py-2 px-4 rounded-md shadow hover:bg-blue-600 transition">Get Account Orders</button>
            <button onclick="getAvailableOrders()" class="bg-blue-500 text-white py-2 px-4 rounded-md shadow hover:bg-blue-600 transition">Get Available Orders</button>
            <button onclick="getTokensOwned()" class="bg-blue-500 text-white py-2 px-4 rounded-md shadow hover:bg-blue-600 transition">Get Owned Tokens</button>
        </div>

        <div class="space-y-4">
            <!-- Toggle Buttons -->
            <div class="grid grid-cols-3 gap-4">
                <button onclick="toggleSection('transfer')" class="bg-gray-200 text-gray-700 py-2 px-4 rounded-md hover:bg-gray-300 transition">Transfer</button>
                <button onclick="toggleSection('signTx')" class="bg-gray-200 text-gray-700 py-2 px-4 rounded-md hover:bg-gray-300 transition">Sign Tx</button>
                <button onclick="toggleSection('issueNft')" class="bg-gray-200 text-gray-700 py-2 px-4 rounded-md hover:bg-gray-300 transition">Issue NFT</button>
                <button onclick="toggleSection('issueToken')" class="bg-gray-200 text-gray-700 py-2 px-4 rounded-md hover:bg-gray-300 transition">Issue Token</button>
                <button onclick="toggleSection('mintToken')" class="bg-gray-200 text-gray-700 py-2 px-4 rounded-md hover:bg-gray-300 transition">Mint Token</button>
                <button onclick="toggleSection('unmintToken')" class="bg-gray-200 text-gray-700 py-2 px-4 rounded-md hover:bg-gray-300 transition">Unmint Token</button>
                <button onclick="toggleSection('lockTokenSupply')" class="bg-gray-200 text-gray-700 py-2 px-4 rounded-md hover:bg-gray-300 transition">Lock Supply</button>
                <button onclick="toggleSection('changeTokenAuthority')" class="bg-gray-200 text-gray-700 py-2 px-4 rounded-md hover:bg-gray-300 transition">Change Token Authority</button>
                <button onclick="toggleSection('changeTokenMetadata')" class="bg-gray-200 text-gray-700 py-2 px-4 rounded-md hover:bg-gray-300 transition">Change Token Metadata</button>
                <button onclick="toggleSection('createOrder')" class="bg-gray-200 text-gray-700 py-2 px-4 rounded-md hover:bg-gray-300 transition">Create Order</button>
                <button onclick="toggleSection('fillOrder')" class="bg-gray-200 text-gray-700 py-2 px-4 rounded-md hover:bg-gray-300 transition">Fill Order (DEX)</button>
                <button onclick="toggleSection('concludeOrder')" class="bg-gray-200 text-gray-700 py-2 px-4 rounded-md hover:bg-gray-300 transition">Conclude Order</button>
                <button onclick="toggleSection('bridgeRequest')" class="bg-gray-200 text-gray-700 py-2 px-4 rounded-md hover:bg-gray-300 transition">Bridge Request</button>
                <button onclick="toggleSection('broadcastTx')" class="bg-gray-200 text-gray-700 py-2 px-4 rounded-md hover:bg-gray-300 transition">Broadcast</button>
                <button onclick="toggleSection('freezeToken')" class="bg-gray-200 text-gray-700 py-2 px-4 rounded-md hover:bg-gray-300 transition">Freeze Token</button>
                <button onclick="toggleSection('unfreezeToken')" class="bg-gray-200 text-gray-700 py-2 px-4 rounded-md hover:bg-gray-300 transition">Unfreeze Token</button>
                <button onclick="toggleSection('burn')" class="bg-gray-200 text-gray-700 py-2 px-4 rounded-md hover:bg-gray-300 transition">Burn</button>
                <button onclick="toggleSection('dataDeposit')" class="bg-gray-200 text-gray-700 py-2 px-4 rounded-md hover:bg-gray-300 transition">Data Deposit</button>
                <button onclick="toggleSection('createDelegation')" class="bg-gray-200 text-gray-700 py-2 px-4 rounded-md hover:bg-gray-300 transition">Create Delegation</button>
                <button onclick="toggleSection('delegationStake')" class="bg-gray-200 text-gray-700 py-2 px-4 rounded-md hover:bg-gray-300 transition">Delegation Stake</button>
                <button onclick="toggleSection('delegationWithdraw')" class="bg-gray-200 text-gray-700 py-2 px-4 rounded-md hover:bg-gray-300 transition">Delegation Withdraw</button>
            </div>

            <!-- Transfer Section -->
            <div id="transfer" class="bg-white p-6 rounded-lg shadow-md hidden">
                <h3 class="text-lg font-semibold text-gray-700 mb-4">Transfer</h3>
                <div class="space-y-4">
                    <input type="text" id="send_to" placeholder="Recipient Address" class="w-full border border-gray-300 rounded-md p-2 focus:ring-2 focus:ring-blue-500 focus:outline-none" />
                    <input type="text" id="amount" placeholder="Amount" class="w-full border border-gray-300 rounded-md p-2 focus:ring-2 focus:ring-blue-500 focus:outline-none" />
                    <button onclick="doTransfer()" class="bg-green-500 text-white py-2 px-4 rounded-md shadow hover:bg-green-600 transition w-full">Send</button>
                </div>
            </div>

            <!-- Sign Transaction Section -->
            <div id="signTx" class="bg-white p-6 rounded-lg shadow-md hidden">
                <h3 class="text-lg font-semibold text-gray-700 mb-4">Sign Transaction</h3>
                <div class="space-y-4">
                    <textarea id="transactionData" rows="5" placeholder="Complete Transaction Data" class="w-full border border-gray-300 rounded-md p-2 focus:ring-2 focus:ring-blue-500 focus:outline-none resize-none"></textarea>
                    <button onclick="signTransaction()" class="bg-green-500 text-white py-2 px-4 rounded-md shadow hover:bg-green-600 transition w-full">Send</button>
                </div>
            </div>

            <!-- Issue NFT Section -->
            <div id="issueNft" class="bg-white p-6 rounded-lg shadow-md hidden">
                <h3 class="text-lg font-semibold text-gray-700 mb-4">Issue NFT</h3>
                <div class="space-y-4">
                    <input type="text" id="issue_nft_authority" placeholder="Authority Address" class="w-full border border-gray-300 rounded-md p-2 focus:ring-2 focus:ring-blue-500 focus:outline-none" />
                    <input type="text" id="issue_nft_metadata_uri" placeholder="Metadata URI" class="w-full border border-gray-300 rounded-md p-2 focus:ring-2 focus:ring-blue-500 focus:outline-none" />
                    <button onclick="issueNft()" class="bg-green-500 text-white py-2 px-4 rounded-md shadow hover:bg-green-600 transition w-full">Issue NFT</button>
                </div>
            </div>

            <!-- Issue Token Section -->
            <div id="issueToken" class="bg-white p-6 rounded-lg shadow-md hidden">
                <h3 class="text-lg font-semibold text-gray-700 mb-4">Issue Token</h3>
                <div class="space-y-4">
                    <input type="text" id="authority" placeholder="Authority Address" class="w-full border border-gray-300 rounded-md p-2 focus:ring-2 focus:ring-blue-500 focus:outline-none" />
                    <input type="text" id="issue_token_ticker" placeholder="Token Ticker" class="w-full border border-gray-300 rounded-md p-2 focus:ring-2 focus:ring-blue-500 focus:outline-none" />
                    <input type="text" id="issue_token_metadata_uri" placeholder="Metadata URI" class="w-full border border-gray-300 rounded-md p-2 focus:ring-2 focus:ring-blue-500 focus:outline-none" />
                    <input type="text" id="issue_token_number_of_decimals" placeholder="Number of Decimals" class="w-full border border-gray-300 rounded-md p-2 focus:ring-2 focus:ring-blue-500 focus:outline-none" />
                    <select name="issue_token_supply_type" id="issue_token_supply_type" class="w-full border border-gray-300 rounded-md p-2 focus:ring-2 focus:ring-blue-500 focus:outline-none">
                        <option value="">Token Supply Type</option>
                        <option value="Fixed">Fixed</option>
                        <option value="Lockable">Lockable</option>
                        <option value="Unlimited">Unlimited</option>
                    </select>
                    <input type="text" id="issue_token_supply_amount" placeholder="Supply Amount" class="w-full border border-gray-300 rounded-md p-2 focus:ring-2 focus:ring-blue-500 focus:outline-none" />
                    <label class="inline-flex items-center mt-3">
                        <input type="checkbox" id="issue_token_is_freezable" class="form-checkbox h-5 w-5 text-blue-600 transition duration-150 ease-in-out">
                        <span class="ml-2 text-gray-700">Is Freezable</span>
                    </label>
                    <button onclick="issueToken()" class="bg-green-500 text-white py-2 px-4 rounded-md shadow hover:bg-green-600 transition w-full">Send</button>
                </div>
            </div>

            <!-- Mint Token Section -->
            <div id="mintToken" class="bg-white p-6 rounded-lg shadow-md hidden">
                <h3 class="text-lg font-semibold text-gray-700 mb-4">Mint Token</h3>
                <div class="space-y-4">
                    <input type="text" id="mint_token_id" placeholder="Token ID" class="w-full border border-gray-300 rounded-md p-2 focus:ring-2 focus:ring-blue-500 focus:outline-none" />
                    <input type="text" id="mint_destination" placeholder="Destination Address" class="w-full border border-gray-300 rounded-md p-2 focus:ring-2 focus:ring-blue-500 focus:outline-none" />
                    <input type="text" id="mint_amount" placeholder="Amount" class="w-full border border-gray-300 rounded-md p-2 focus:ring-2 focus:ring-blue-500 focus:outline-none" />
                    <button onclick="mintToken()" class="bg-green-500 text-white py-2 px-4 rounded-md shadow hover:bg-green-600 transition w-full">Send</button>
                </div>
            </div>

            <!-- Unmint Token Section -->
            <div id="unmintToken" class="bg-white p-6 rounded-lg shadow-md hidden">
                <h3 class="text-lg font-semibold text-gray-700 mb-4">Unmint Token</h3>
                <div class="space-y-4">
                    <input type="text" id="unmint_token_id" placeholder="Token ID" class="w-full border border-gray-300 rounded-md p-2 focus:ring-2 focus:ring-blue-500 focus:outline-none" />
                    <input type="text" id="unmint_amount" placeholder="Amount to Unmint" class="w-full border border-gray-300 rounded-md p-2 focus:ring-2 focus:ring-blue-500 focus:outline-none" />
                    <button onclick="unmintToken()" class="bg-green-500 text-white py-2 px-4 rounded-md shadow hover:bg-green-600 transition w-full">Unmint</button>
                </div>
            </div>

            <!-- Lock Token Supply Section -->
            <div id="lockTokenSupply" class="bg-white p-6 rounded-lg shadow-md hidden">
                <h3 class="text-lg font-semibold text-gray-700 mb-4">Lock Token Supply</h3>
                <div class="space-y-4">
                    <input type="text" id="lock_token_id" placeholder="Token ID" class="w-full border border-gray-300 rounded-md p-2 focus:ring-2 focus:ring-blue-500 focus:outline-none" />
                    <button onclick="lockTokenSupply()" class="bg-green-500 text-white py-2 px-4 rounded-md shadow hover:bg-green-600 transition w-full">Lock Supply</button>
                </div>
            </div>

            <!-- Change Token Authority Section -->
            <div id="changeTokenAuthority" class="bg-white p-6 rounded-lg shadow-md hidden">
                <h3 class="text-lg font-semibold text-gray-700 mb-4">Change Token Authority</h3>
                <div class="space-y-4">
                    <input type="text" id="change_authority_token_id" placeholder="Token ID" class="w-full border border-gray-300 rounded-md p-2 focus:ring-2 focus:ring-blue-500 focus:outline-none" />
                    <input type="text" id="change_authority_new_authority" placeholder="New Authority Address" class="w-full border border-gray-300 rounded-md p-2 focus:ring-2 focus:ring-blue-500 focus:outline-none" />
                    <button onclick="changeTokenAuthority()" class="bg-green-500 text-white py-2 px-4 rounded-md shadow hover:bg-green-600 transition w-full">Change Authority</button>
                </div>
            </div>

            <!-- Change Token Metadata Section -->
            <div id="changeTokenMetadata" class="bg-white p-6 rounded-lg shadow-md hidden">
                <h3 class="text-lg font-semibold text-gray-700 mb-4">Change Token Metadata</h3>
                <div class="space-y-4">
                    <input type="text" id="change_metadata_token_id" placeholder="Token ID" class="w-full border border-gray-300 rounded-md p-2 focus:ring-2 focus:ring-blue-500 focus:outline-none" />
                    <input type="text" id="change_metadata_uri" placeholder="New Metadata URI" class="w-full border border-gray-300 rounded-md p-2 focus:ring-2 focus:ring-blue-500 focus:outline-none" />
                    <button onclick="changeTokenMetadata()" class="bg-green-500 text-white py-2 px-4 rounded-md shadow hover:bg-green-600 transition w-full">Change Metadata</button>
                </div>
            </div>

            <!-- Create Order Section -->
            <div id="createOrder" class="bg-white p-6 rounded-lg shadow-md hidden">
                <h3 class="text-lg font-semibold text-gray-700 mb-4">Create Order</h3>
                <div class="space-y-4">
                    <input type="text" id="ask_token" placeholder="Ask Token" class="w-full border border-gray-300 rounded-md p-2 focus:ring-2 focus:ring-blue-500 focus:outline-none" />
                    <input type="text" id="ask_amount" placeholder="Ask Amount" class="w-full border border-gray-300 rounded-md p-2 focus:ring-2 focus:ring-blue-500 focus:outline-none" />
                    <input type="text" id="give_token" placeholder="Give Token" class="w-full border border-gray-300 rounded-md p-2 focus:ring-2 focus:ring-blue-500 focus:outline-none" />
                    <input type="text" id="give_amount" placeholder="Give Amount" class="w-full border border-gray-300 rounded-md p-2 focus:ring-2 focus:ring-blue-500 focus:outline-none" />
                    <input type="text" id="conclude_destination" placeholder="Conclude Destination" class="w-full border border-gray-300 rounded-md p-2 focus:ring-2 focus:ring-blue-500 focus:outline-none" />
                    <button onclick="createOrder()" class="bg-green-500 text-white py-2 px-4 rounded-md shadow hover:bg-green-600 transition w-full">Send</button>
                </div>
            </div>

            <!-- Fill Order Section -->
            <div id="fillOrder" class="bg-white p-6 rounded-lg shadow-md hidden">
                <h3 class="text-lg font-semibold text-gray-700 mb-4">Fill Order (DEX)</h3>
                <div class="space-y-4">
                    <input type="text" id="fill_order_id" placeholder="Order ID" class="w-full border border-gray-300 rounded-md p-2 focus:ring-2 focus:ring-blue-500 focus:outline-none" />
                    <input type="text" id="fill_amount" placeholder="Amount" class="w-full border border-gray-300 rounded-md p-2 focus:ring-2 focus:ring-blue-500 focus:outline-none" />
                    <input type="text" id="fill_destination" placeholder="Destination" class="w-full border border-gray-300 rounded-md p-2 focus:ring-2 focus:ring-blue-500 focus:outline-none" />
                    <button onclick="fillOrder()" class="bg-green-500 text-white py-2 px-4 rounded-md shadow hover:bg-green-600 transition w-full">Send</button>
                </div>
            </div>

            <!-- Conclude Order Section -->
            <div id="concludeOrder" class="bg-white p-6 rounded-lg shadow-md hidden">
                <h3 class="text-lg font-semibold text-gray-700 mb-4">Conclude Order</h3>
                <div class="space-y-4">
                    <input type="text" id="conclude_order_id" placeholder="Order ID" class="w-full border border-gray-300 rounded-md p-2 focus:ring-2 focus:ring-blue-500 focus:outline-none" />
                    <button onclick="concludeOrder()" class="bg-green-500 text-white py-2 px-4 rounded-md shadow hover:bg-green-600 transition w-full">Send</button>
                </div>
            </div>

            <!-- Bridge Request Section -->
            <div id="bridgeRequest" class="bg-white p-6 rounded-lg shadow-md hidden">
                <h3 class="text-lg font-semibold text-gray-700 mb-4">Bridge Request</h3>
                <div class="space-y-4">
                    <input type="text" id="bridge_intent" placeholder="Intent Address" class="w-full border border-gray-300 rounded-md p-2 focus:ring-2 focus:ring-blue-500 focus:outline-none" />
                    <input type="text" id="bridge_amount" placeholder="Amount" class="w-full border border-gray-300 rounded-md p-2 focus:ring-2 focus:ring-blue-500 focus:outline-none" />
                    <input type="text" id="bridge_destination" placeholder="Bridge Address Destination" class="w-full border border-gray-300 rounded-md p-2 focus:ring-2 focus:ring-blue-500 focus:outline-none" />
                    <input type="text" id="bridge_token_id" placeholder="Token ID" class="w-full border border-gray-300 rounded-md p-2 focus:ring-2 focus:ring-blue-500 focus:outline-none" />
                    <button onclick="bridgeRequest()" class="bg-green-500 text-white py-2 px-4 rounded-md shadow hover:bg-green-600 transition w-full">Send</button>
                </div>
            </div>

            <!-- Broadcast Transaction Section -->
            <div id="broadcastTx" class="bg-white p-6 rounded-lg shadow-md hidden">
                <h3 class="text-lg font-semibold text-gray-700 mb-4">Broadcast Transaction</h3>
                <div class="space-y-4">
                    <textarea id="broadcast_tx" rows="5" placeholder="Transaction HEX Data" class="w-full border border-gray-300 rounded-md p-2 focus:ring-2 focus:ring-blue-500 focus:outline-none resize-none"></textarea>
                    <button onclick="broadcastTx()" class="bg-green-500 text-white py-2 px-4 rounded-md shadow hover:bg-green-600 transition w-full">Send</button>
                </div>
            </div>

            <!-- Freeze Token Section -->
            <div id="freezeToken" class="bg-white p-6 rounded-lg shadow-md hidden">
                <h3 class="text-lg font-semibold text-gray-700 mb-4">Freeze Token</h3>
                <div class="space-y-4">
                    <input type="text" id="freeze_token_id" placeholder="Token ID" class="w-full border border-gray-300 rounded-md p-2 focus:ring-2 focus:ring-blue-500 focus:outline-none" />
                    <label class="inline-flex items-center mt-3">
                        <input type="checkbox" id="freeze_token_is_unfreezable" class="form-checkbox h-5 w-5 text-blue-600 transition duration-150 ease-in-out">
                        <span class="ml-2 text-gray-700">Is Unfreezable</span>
                    </label>
                    <button onclick="freezeToken()" class="bg-green-500 text-white py-2 px-4 rounded-md shadow hover:bg-green-600 transition w-full">Freeze</button>
                </div>
            </div>

            <!-- Unfreeze Token Section -->
            <div id="unfreezeToken" class="bg-white p-6 rounded-lg shadow-md hidden">
                <h3 class="text-lg font-semibold text-gray-700 mb-4">Unfreeze Token</h3>
                <div class="space-y-4">
                    <input type="text" id="unfreeze_token_id" placeholder="Token ID" class="w-full border border-gray-300 rounded-md p-2 focus:ring-2 focus:ring-blue-500 focus:outline-none" />
                    <button onclick="unfreezeToken()" class="bg-green-500 text-white py-2 px-4 rounded-md shadow hover:bg-green-600 transition w-full">Unfreeze</button>
                </div>
            </div>

            <!-- Burn Section -->
            <div id="burn" class="bg-white p-6 rounded-lg shadow-md hidden">
                <h3 class="text-lg font-semibold text-gray-700 mb-4">Burn</h3>
                <div class="space-y-4">
                    <input type="text" id="burn_token_id" placeholder="Token ID" class="w-full border border-gray-300 rounded-md p-2 focus:ring-2 focus:ring-blue-500 focus:outline-none" />
                    <input type="text" id="burn_amount" placeholder="Amount to Burn" class="w-full border border-gray-300 rounded-md p-2 focus:ring-2 focus:ring-blue-500 focus:outline-none" />
                    <button onclick="burn()" class="bg-green-500 text-white py-2 px-4 rounded-md shadow hover:bg-green-600 transition w-full">Burn</button>
                </div>
            </div>

            <!-- Data Deposit Section -->
            <div id="dataDeposit" class="bg-white p-6 rounded-lg shadow-md hidden">
                <h3 class="text-lg font-semibold text-gray-700 mb-4">Data Deposit</h3>
                <div class="space-y-4">
                    <input type="text" id="data_deposit_data" placeholder="Data to Deposit" class="w-full border border-gray-300 rounded-md p-2 focus:ring-2 focus:ring-blue-500 focus:outline-none" />
                    <button onclick="dataDeposit()" class="bg-green-500 text-white py-2 px-4 rounded-md shadow hover:bg-green-600 transition w-full">Deposit</button>
                </div>
            </div>

            <!-- Create Delegation Section -->
            <div id="createDelegation" class="bg-white p-6 rounded-lg shadow-md hidden">
                <h3 class="text-lg font-semibold text-gray-700 mb-4">Create Delegation</h3>
                <div class="space-y-4">
                    <input type="text" id="delegation_create_pool_id" placeholder="Pool ID" class="w-full border border-gray-300 rounded-md p-2 focus:ring-2 focus:ring-blue-500 focus:outline-none" />
                    <input type="text" id="delegation_create_destination" placeholder="Destination Address" class="w-full border border-gray-300 rounded-md p-2 focus:ring-2 focus:ring-blue-500 focus:outline-none" />
                    <button onclick="createDelegation()" class="bg-green-500 text-white py-2 px-4 rounded-md shadow hover:bg-green-600 transition w-full">Create Delegation</button>
                </div>
            </div>

            <!-- Delegation Stake Section -->
            <div id="delegationStake" class="bg-white p-6 rounded-lg shadow-md hidden">
                <h3 class="text-lg font-semibold text-gray-700 mb-4">Delegation Stake</h3>
                <div class="space-y-4">
                    <input type="text" id="delegation_stake_pool_id" placeholder="Pool ID" class="w-full border border-gray-300 rounded-md p-2 focus:ring-2 focus:ring-blue-500 focus:outline-none" />
                    <input type="text" id="delegation_stake_delegation_id" placeholder="Delegation ID" class="w-full border border-gray-300 rounded-md p-2 focus:ring-2 focus:ring-blue-500 focus:outline-none" />
                    <input type="text" id="delegation_stake_amount" placeholder="Amount to Stake" class="w-full border border-gray-300 rounded-md p-2 focus:ring-2 focus:ring-blue-500 focus:outline-none" />
                    <button onclick="delegationStake()" class="bg-green-500 text-white py-2 px-4 rounded-md shadow hover:bg-green-600 transition w-full">Stake</button>
                </div>
            </div>

            <!-- Delegation Withdraw Section -->
            <div id="delegationWithdraw" class="bg-white p-6 rounded-lg shadow-md hidden">
                <h3 class="text-lg font-semibold text-gray-700 mb-4">Delegation Withdraw</h3>
                <div class="space-y-4">
                    <input type="text" id="delegation_withdraw_pool_id" placeholder="Pool ID" class="w-full border border-gray-300 rounded-md p-2 focus:ring-2 focus:ring-blue-500 focus:outline-none" />
                    <input type="text" id="delegation_withdraw_delegation_id" placeholder="Delegation ID" class="w-full border border-gray-300 rounded-md p-2 focus:ring-2 focus:ring-blue-500 focus:outline-none" />
                    <input type="text" id="delegation_withdraw_amount" placeholder="Amount to Withdraw" class="w-full border border-gray-300 rounded-md p-2 focus:ring-2 focus:ring-blue-500 focus:outline-none" />
                    <button onclick="delegationWithdraw()" class="bg-green-500 text-white py-2 px-4 rounded-md shadow hover:bg-green-600 transition w-full">Withdraw</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Right Column: Output -->
    <div class="lg:w-1/2">
        <h3 class="text-xl font-semibold text-gray-700 mb-4">Output</h3>
        <div id="output" class="bg-white p-4 rounded-lg shadow-md text-sm text-gray-600 whitespace-pre-wrap h-96 overflow-y-auto border border-gray-200"></div>
    </div>
</div>

<script src="../packages/sdk/src/mintlayer-connect-sdk.js"></script>
<script>
  function changeNetwork() {
    const network = document.getElementById('network').value;
    window.mintlayer.setNetwork(network);
    displayOutput(`Network changed to: ${network}`);
  }

  function toggleSection(sectionId) {
    const sections = [
      'transfer', 'signTx', 'issueNft', 'issueToken', 'mintToken', 'unmintToken',
      'lockTokenSupply', 'changeTokenAuthority', 'changeTokenMetadata', 'createOrder',
      'fillOrder', 'concludeOrder', 'bridgeRequest', 'broadcastTx', 'freezeToken',
      'unfreezeToken', 'burn', 'dataDeposit', 'createDelegation', 'delegationStake',
      'delegationWithdraw'
    ];
    sections.forEach(id => {
      const el = document.getElementById(id);
      if (id === sectionId) {
        el.classList.toggle('hidden');
      } else {
        el.classList.add('hidden');
      }
    });
  }

  function displayOutput(message) {
    const output = document.getElementById('output');
    output.textContent = `${new Date().toLocaleTimeString()} - ${message}\n${output.textContent}`;
  }

  async function checkConnection() {
    try {
      const result = await window.mintlayer.request({ method: 'checkConnection' });
      displayOutput(`Connection status: ${JSON.stringify(result, null, 2)}`);
    } catch (error) {
      displayOutput(`Error: ${error.message}`);
    }
  }

  async function connectWallet() {
    try {
      const addresses = await window.mintlayer.connect();
      displayOutput(`Connected: ${JSON.stringify(addresses, null, 2)}`);
    } catch (error) {
      displayOutput(`Error: ${error.message}`);
    }
  }

  async function getNewAddress() {
    try {
      const addresses = await window.mintlayer.request({ method: 'getNewAddress' });
      displayOutput(`New address: ${JSON.stringify(addresses, null, 2)}`);
    } catch (error) {
      displayOutput(`Error: ${error.message}`);
    }
  }

  async function getVersion() {
    try {
      const version = await window.mintlayer.request({ method: 'version' });
      displayOutput(`Version: ${JSON.stringify(version, null, 2)}`);
    } catch (error) {
      displayOutput(`Error: ${error.message}`);
    }
  }

  async function getBalance() {
    try {
      const balance = await window.mintlayer.getBalance();
      displayOutput(`Balance: ${JSON.stringify(balance, null, 2)}`);
    } catch (error) {
      displayOutput(`Error: ${error.message}`);
    }
  }

  async function getDelegations() {
    try {
      const delegations = await window.mintlayer.getDelegations();
      displayOutput(`Delegations: ${JSON.stringify(delegations, null, 2)}`);
    } catch (error) {
      displayOutput(`Error: ${error.message}`);
    }
  }

  async function getDelegationsTotal() {
    try {
      const delegations = await window.mintlayer.getDelegationsTotal();
      displayOutput(`Delegations Total: ${JSON.stringify(delegations, null, 2)}`);
    } catch (error) {
      displayOutput(`Error: ${error.message}`);
    }
  }

  async function getAccountOrders() {
    try {
      const orders = await window.mintlayer.getAccountOrders();
      displayOutput(`Account Orders: ${JSON.stringify(orders, null, 2)}`);
    } catch (error) {
      displayOutput(`Error: ${error.message}`);
    }
  }

  async function getAvailableOrders() {
    try {
      const orders = await window.mintlayer.getAvailableOrders();
      displayOutput(`Available Orders: ${JSON.stringify(orders, null, 2)}`);
    } catch (error) {
      displayOutput(`Error: ${error.message}`);
    }
  }

  async function getTokensOwned() {
    try {
      console.log('window.mintlayer', window.mintlayer);
      const tokens = await window.mintlayer.getTokensOwned();
      displayOutput(`Owned tokens: ${JSON.stringify(tokens, null, 2)}`);
    } catch (error) {
      displayOutput(`Error: ${error.message}`);
    }
  }

  async function createDelegation() {
    try {
      const delegateResult = await window.mintlayer.request({
        method: 'delegate',
        params: { poolId: 'tpool106xgru3kyxzuhhsx666gvktd5y34ucke2wkkwqzysc29jk0ul82qzj4tzh' }
      });
      displayOutput(`Delegate: ${JSON.stringify(delegateResult, null, 2)}`);
    } catch (error) {
      displayOutput(`Error: ${error.message}`);
    }
  }

  async function doTransfer() {
    const to = document.getElementById('send_to').value;
    const amount = document.getElementById('amount').value;

    if (!to || !amount) {
      displayOutput('Please provide both recipient address and amount.');
      return;
    }

    try {
      const transferResult = await window.mintlayer.transfer({ to, amount });
      displayOutput(`Transfer result: ${JSON.stringify(transferResult, null, 2)}`);
    } catch (error) {
      displayOutput(`Error: ${error.message}`);
    }
  }

  async function issueToken() {
    const authority = document.getElementById('authority').value;
    const is_freezable = document.getElementById('issue_token_is_freezable').checked;
    const metadata_uri = document.getElementById('issue_token_metadata_uri').value;
    const number_of_decimals = document.getElementById('issue_token_number_of_decimals').value;
    const token_ticker = document.getElementById('issue_token_ticker').value;
    const supply_type = document.getElementById('issue_token_supply_type').value;
    const supply_amount = document.getElementById('issue_token_supply_amount').value;

    if (!authority) {
      displayOutput('Please provide authority.');
      return;
    }

    try {
      const tokenData = {
        authority,
        is_freezable,
        metadata_uri,
        number_of_decimals,
        token_ticker,
        supply_type,
        supply_amount,
      };

      const issueResult = await window.mintlayer.issueToken({ ...tokenData, authority });
      displayOutput(`Issue token result: ${JSON.stringify(issueResult, null, 2)}`);
    } catch (error) {
      displayOutput(`Error: ${error.message}`);
    }
  }

  async function mintToken() {
    const destination = document.getElementById('mint_destination').value;
    const amount = document.getElementById('mint_amount').value;
    const token_id = document.getElementById('mint_token_id').value;

    if (!destination || !amount) {
      displayOutput('Please provide both destination and amount.');
      return;
    }

    try {
      const mintResult = await window.mintlayer.mintToken({ destination, amount, token_id });
      displayOutput(`Mint token result: ${JSON.stringify(mintResult, null, 2)}`);
    } catch (error) {
      displayOutput(`Error: ${error.message}`);
    }
  }

  async function unmintToken() {
    const amount = document.getElementById('unmint_amount').value;
    const token_id = document.getElementById('unmint_token_id').value;

    if (!amount) {
      displayOutput('Please provide both destination and amount.');
      return;
    }

    try {
      const unmintResult = await window.mintlayer.unmintToken({ amount, token_id });
      displayOutput(`Unmint token result: ${JSON.stringify(unmintResult, null, 2)}`);
    } catch (error) {
      displayOutput(`Error: ${error.message}`);
    }
  }

  async function createOrder() {
    const ask_token = document.getElementById('ask_token').value;
    const ask_amount = document.getElementById('ask_amount').value;
    const give_token = document.getElementById('give_token').value;
    const give_amount = document.getElementById('give_amount').value;
    const conclude_destination = document.getElementById('conclude_destination').value;

    if (!ask_token || !ask_amount || !give_token || !give_amount || !conclude_destination) {
      displayOutput('Please provide all order fields.');
      return;
    }

    try {
      const orderResult = await window.mintlayer.createOrder({
        ask_token,
        ask_amount,
        give_token,
        give_amount,
        conclude_destination
      });
      displayOutput(`Create order result: ${JSON.stringify(orderResult, null, 2)}`);
    } catch (error) {
      displayOutput(`Error: ${error.message}`);
    }
  }

  async function fillOrder() {
    const order_id = document.getElementById('fill_order_id').value;
    const amount = document.getElementById('fill_amount').value;
    const destination = document.getElementById('fill_destination').value;

    if (!amount || !order_id || !destination) {
      displayOutput('Please provide token ID, amount, and order ID.');
      return;
    }

    try {
      const fillResult = await window.mintlayer.fillOrder({ amount, order_id, destination });
      displayOutput(`Fill order result: ${JSON.stringify(fillResult, null, 2)}`);
    } catch (error) {
      displayOutput(`Error: ${error.message}`);
    }
  }

  async function concludeOrder() {
    const order_id = document.getElementById('conclude_order_id').value;

    if (!order_id) {
      displayOutput('Please provide order ID.');
      return;
    }

    try {
      const concludeResult = await window.mintlayer.concludeOrder({ order_id });
      displayOutput(`Conclude order result: ${JSON.stringify(concludeResult, null, 2)}`);
    } catch (error) {
      displayOutput(`Error: ${error.message}`);
    }
  }

  async function bridgeRequest() {
    const intent = document.getElementById('bridge_intent').value;
    const amount = document.getElementById('bridge_amount').value;
    const destination = document.getElementById('bridge_destination').value;
    const token_id = document.getElementById('bridge_token_id').value;

    if (!intent || !amount || !destination) {
      displayOutput('Please provide intent, amount, and address.');
      return;
    }

    try {
      const bridgeResult = await window.mintlayer.bridgeRequest({ intent, amount, destination, token_id });
      displayOutput(`Bridge request result: ${JSON.stringify(bridgeResult, null, 2)}`);
    } catch (error) {
      displayOutput(`Error: ${error.message}`);
    }
  }

  async function signTransaction() {
    const transactionData = document.getElementById('transactionData').value;

    if (!transactionData) {
      displayOutput('Please provide transaction data.');
      return;
    }

    try {
      const signResult = await window.mintlayer.signTransaction(JSON.parse(transactionData));
      displayOutput(`Sign transaction result: ${JSON.stringify(signResult, null, 2)}`);
    } catch (error) {
      displayOutput(`Error: ${error.message}`);
    }
  }

  async function broadcastTx() {
    const transactionData = document.getElementById('broadcast_tx').value;

    if (!transactionData) {
      displayOutput('Please provide transaction data.');
      return;
    }

    try {
      const broadcastResult = await window.mintlayer.broadcastTx(transactionData);
      displayOutput(`Broadcast transaction result: ${JSON.stringify(broadcastResult, null, 2)}`);
    } catch (error) {
      displayOutput(`Error: ${error.message}`);
    }
  }

  async function freezeToken() {
    const token_id = document.getElementById('freeze_token_id').value;
    const is_unfreezable = document.getElementById('freeze_token_is_unfreezable').checked;

    if (!token_id) {
      displayOutput('Please provide both token ID and address to freeze.');
      return;
    }

    try {
      const freezeResult = await window.mintlayer.freezeToken({ token_id, is_unfreezable });
      displayOutput(`Freeze token result: ${JSON.stringify(freezeResult, null, 2)}`);
    } catch (error) {
      displayOutput(`Error: ${error.message}`);
    }
  }

  async function unfreezeToken() {
    const token_id = document.getElementById('unfreeze_token_id').value;

    if (!token_id) {
      displayOutput('Please provide both token ID and address to unfreeze.');
      return;
    }

    try {
      const unfreezeResult = await window.mintlayer.unfreezeToken({ token_id });
      displayOutput(`Unfreeze token result: ${JSON.stringify(unfreezeResult, null, 2)}`);
    } catch (error) {
      displayOutput(`Error: ${error.message}`);
    }
  }

  async function lockTokenSupply() {
    const token_id = document.getElementById('lock_token_id').value;

    if (!token_id) {
      displayOutput('Please provide token ID.');
      return;
    }

    try {
      const lockResult = await window.mintlayer.lockTokenSupply({ token_id });
      displayOutput(`Lock token supply result: ${JSON.stringify(lockResult, null, 2)}`);
    } catch (error) {
      displayOutput(`Error: ${error.message}`);
    }
  }

  async function changeTokenAuthority() {
    const token_id = document.getElementById('change_authority_token_id').value;
    const new_authority = document.getElementById('change_authority_new_authority').value;

    if (!token_id || !new_authority) {
      displayOutput('Please provide both token ID and new authority.');
      return;
    }

    try {
      const changeResult = await window.mintlayer.changeTokenAuthority({ token_id, new_authority });
      displayOutput(`Change token authority result: ${JSON.stringify(changeResult, null, 2)}`);
    } catch (error) {
      displayOutput(`Error: ${error.message}`);
    }
  }

  async function changeTokenMetadata() {
    const token_id = document.getElementById('change_metadata_token_id').value;
    const new_metadata_uri = document.getElementById('change_metadata_uri').value;

    if (!token_id || !new_metadata_uri) {
      displayOutput('Please provide both token ID and new metadata URI.');
      return;
    }

    try {
      const changeResult = await window.mintlayer.changeMetadataUri({ token_id, new_metadata_uri });
      displayOutput(`Change token metadata result: ${JSON.stringify(changeResult, null, 2)}`);
    } catch (error) {
      displayOutput(`Error: ${error.message}`);
    }
  }

  async function burn() {
    const token_id = document.getElementById('burn_token_id').value;
    const amount = document.getElementById('burn_amount').value;

    if (!amount) {
      displayOutput('Please provide amount to burn.');
      return;
    }

    try {
      const burnResult = await window.mintlayer.burn({ token_id, amount });
      displayOutput(`Burn result: ${JSON.stringify(burnResult, null, 2)}`);
    } catch (error) {
      displayOutput(`Error: ${error.message}`);
    }
  }

  async function dataDeposit() {
    const data = document.getElementById('data_deposit_data').value;

    if (!data) {
      displayOutput('Please provide data to deposit.');
      return;
    }

    try {
      const depositResult = await window.mintlayer.dataDeposit({ data });
      displayOutput(`Data deposit result: ${JSON.stringify(depositResult, null, 2)}`);
    } catch (error) {
      displayOutput(`Error: ${error.message}`);
    }
  }

  async function delegationCreate() {
    const pool_id = document.getElementById('delegation_create_pool_id').value;
    const destination = document.getElementById('delegation_create_destination').value;

    if (!pool_id) {
      displayOutput('Please provide pool ID.');
      return;
    }

    try {
      const stakeResult = await window.mintlayer.delegationCreate({ pool_id, destination });
      displayOutput(`Delegation stake result: ${JSON.stringify(stakeResult, null, 2)}`);
    } catch (error) {
      displayOutput(`Error: ${error.message}`);
    }
  }

  async function delegationStake() {
    const pool_id = document.getElementById('delegation_stake_pool_id').value;
    const delegation_id = document.getElementById('delegation_stake_delegation_id').value;
    const amount = document.getElementById('delegation_stake_amount').value;

    if (!pool_id || !amount) {
      displayOutput('Please provide both pool ID and amount to stake.');
      return;
    }

    try {
      const stakeResult = await window.mintlayer.delegationStake({ pool_id, delegation_id, amount });
      displayOutput(`Delegation stake result: ${JSON.stringify(stakeResult, null, 2)}`);
    } catch (error) {
      displayOutput(`Error: ${error.message}`);
    }
  }

  async function delegationWithdraw() {
    const pool_id = document.getElementById('delegation_withdraw_pool_id').value;
    const delegation_id = document.getElementById('delegation_withdraw_delegation_id').value;
    const amount = document.getElementById('delegation_withdraw_amount').value;

    if (!pool_id || !amount) {
      displayOutput('Please provide both pool ID and amount to withdraw.');
      return;
    }

    try {
      const withdrawResult = await window.mintlayer.delegationWithdraw({ pool_id, delegation_id, amount });
      displayOutput(`Delegation withdraw result: ${JSON.stringify(withdrawResult, null, 2)}`);
    } catch (error) {
      displayOutput(`Error: ${error.message}`);
    }
  }

  if (window.mintlayer) displayOutput('Mintlayer Connect SDK detected!');
  else displayOutput('Mintlayer Connect SDK not found.');
</script>
</body>
</html>
